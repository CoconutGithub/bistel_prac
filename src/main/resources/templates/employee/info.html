<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>직원 상세 정보</title>
    <script th:src="@{/js/employee-info-edit.js}"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 2rem;
        }

        h2 {
            margin-bottom: 1rem;
        }

        table {
            width: 600px;
            border-collapse: collapse;
        }

        td {
            padding: 10px;
            border-bottom: 1px solid #ccc;
        }

        td.label {
            font-weight: bold;
            width: 200px;
            background-color: #f5f5f5;
        }

        input[type="text"] {
            width: 100%;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
<h2>직원 상세 정보</h2>

<form id="employeeForm" th:action="@{'/employee/' + ${employee.empId}}" th:object="${employee}" method="post">
    <input type="hidden" name="_method" value="PATCH"/>
    <button type="button" onclick="toggleEditMode()">수정</button>
    <button id="saveBtn" type="submit" style="display: none;">저장</button>
    <button id="cancelBtn" type="button" style="display: none;" onclick="cancelEdit()">취소</button>

    <a th:href="@{'/salary/pay/' + ${employee.empId}}">
        <button type="button">지급 내역 추가</button>
    </a>

    <table>
        <tr>
            <td class="label">사번</td>
            <td>
                <span th:text="${employee.empId}">사번</span>
                <input type="hidden" th:field="*{empId}" />
            </td>
        </tr>
        <tr>
            <td class="label">이름</td>
            <td>
                <span th:text="${employee.firstName + ' ' + employee.lastName}">이름</span>
                <input type="text" name="firstName" th:value="${employee.firstName}" style="display:none;">
                <input type="text" name="lastName" th:value="${employee.lastName}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">영문이름</td>
            <td>
                <span th:text="${employee.engName}">영문이름</span>
                <input type="text" name="engName" th:value="${employee.engName}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">입사일</td>
            <td>
                <span th:text="${employee.hireDate}">입사일</span>
                <input type="text" name="hireDate" th:value="${employee.hireDate}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">부서</td>
            <td>
                <span th:text="${employee.dept.deptName}">부서</span>
                <input type="text" name="deptName" th:value="${employee.dept.deptName}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">직책</td>
            <td>
                <span th:text="${employee.position}">직책</span>
                <input type="text" name="position" th:value="${employee.position}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">급여</td>
            <td>
                <span th:text="${employee.annualSalary != null} ? ${#numbers.formatInteger(employee.annualSalary, 3, 'COMMA')} + ' 원' : ''">급여</span>
                <input type="text" name="annualSalary" th:value="${employee.annualSalary}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">전화번호</td>
            <td>
                <span th:text="${employee.phoneNumber}">전화번호</span>
                <input type="text" name="phoneNumber" th:value="${employee.phoneNumber}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">이메일</td>
            <td>
                <span th:text="${employee.email}">이메일</span>
                <input type="text" name="email" th:value="${employee.email}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">재직 상태</td>
            <td>
                <span th:text="${employee.status.statusName}">재직 상태</span>
                <input type="text" name="statusName" th:value="${employee.status.statusName}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">주소</td>
            <td>
                <span th:text="${employee.address}">주소</span>
                <input type="text" name="address" th:value="${employee.address}" style="display:none;">
            </td>
        </tr>
        <tr>
            <td class="label">주민등록번호</td>
            <td>
                <span th:text="${employee.ssn}">주민등록번호</span>
                <input type="text" name="ssn" th:value="${employee.ssn}" style="display:none;">
            </td>
        </tr>
    </table>
</form>
</body>
</html>

